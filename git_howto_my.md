# Подсказка по GIT

## Начало. Основные команды

Создание репозитория:
```sh
git init
```
Получить информацию от git о его текущем состоянии:
```sh
git status
```
Доваление файлу версионности в локальном репозитории:
```sh
git add
```
Фиксирование изменений и их описание:
```sh
git commit -m "Message"
```
Вывод разницы между текущей и зафиксированной версией файла:
```sh
git diff
```
Вывод списка всех коммитов (сохранений) в хронологическом порядке:
```sh
git log
```
Вывод списка всех коммитов (сохранений) в хронологическом порядке, без подробного описания и в одну строку:
```sh
git log --oneline
```
Переход от одного коммита (сохранения) к другому:
```sh
git checkout
```
Вернуться к актуальному состоянию и продолжить работу:
```sh
git checkout master
```

## Ветки (branches)

Вывод на экран списка веток и текущего местоположения:
```sh
git branch
```

Создание новой ветки:
```sh
git branch <name>
```

Удаление ветки:
```sh
git branch -d <name>
```

Переключение с одной ветки на другую:
```sh
git checkout <name>
```

Слияние некоторой ветки с текущей:
```sh
git merge <name>
```

Отмена попытки слияния
```sh
git merge --abort
```

Визуализация всех веток, вывод коммитов в виде дерева:
```sh
git log --graph
```

## Сохранения (commits)

Отмена последнего коммита. Файлы из данного последнего коммита переходят в состояние unstaged, то есть в то состояние, в котором они были до коммита. Содержимое файлов не изменится:
```sh
git reset HEAD~
```

Полное удаление последнего коммита, включая все изменения файлов данного коммита:
```sh
git reset --hard HEAD~1
```

Полное удаление X последних коммитов, включая все изменения файлов данных коммитов:

```sh
git reset --hard HEAD~X
```

Полное удаление до состояния указанного коммита, включая все изменения файлов после указанного коммита:

```sh
git reset --hard <name>
```

**HEAD** - это указатель на текущую ветку, которая, в свою очередь, является указателем на последний коммит, сделанный в этой ветке

Изменение сообщения последнего коммита:
```sh
git commit --amend -m "Some description"
```

## Игнорирование файлов GIT

В Git не принято добавлять файлы изображений и прочие объемные файлы, их хранят на сторонних носителях. Чтобы исключить ненужные файлы из загрузки, необходимо создать в репозитории файл с именем  **.git ignore** и прописать в нем имя игнорируемого файла или полный путь к нему.

## Работа с удаленными репозиториям в GIT

Чтобы задать используемый аккаунт GitHub в git, необходимо использовать следующие команды:
```sh
git config --global user.name <user-name>
git config --global user.email <email@example.com>
```

Чтобы вывести конфигурацию git (проверить используемый аккаунт), можно использовать команду:
```sh
git config --list
```

Чтобы добавить удаленный сервер, с которым будет работать проект, используется команда:
```sh
git remote add origin <url>
```

Вывод добавленных серверов (fetch - откуда забирать, push - куда отправлять изменения):
```sh
git remote -v
```

Чтобы отправить на уже указанный удаленный репозиторий версию репозитория на ПК, используется команда (требует авторизации на внешнем репозитории):
```sh
git push origin <branch_name>
```

Такую команду каждый раз писать целиком довольно энергозатратно, для краткости существует git push по умолчанию. Для его активации необходимо использовать следующую команду с флагом -u:
```sh
git push -u origin <branch_name>
```

После этого можно писать более коротко, так как git запомнил, что пушить надо на сервер origin ветку с определенным именем:
```sh
git push
```

Копирование внешнего репозитория на ПК:
```sh
git clone <url>
```

Чтобы скачать версию уже указанного удаленного репозитория и автоматически сделать слияние (merge) с версией репозитория на ПК, используется команда:
```sh
git pull
```

### pull request

pull request - команда на сервере GitHub для предложения автору (владельцу) удаленного репозитория на вливание в его проект ваших изменений. Предлагать изменения принято в отдельной ветке.

Как сделать pull request:
1. Используйте fork(ответвление) в GitHub для нужного вам удаленного репозитория.
2. Используйте git clone в git для своей версии (forked) репозитория.
3. Создайте новую ветку и внесите в нее свои изменения.
4. Зафиксируйте изменения (создайте коммит).
5. Используйте git push в git для отправки своей версии в свой GitHub.
6. В GitHub используйте pull request.