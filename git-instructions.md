# Инструкция по работе с Git

## Ссылка на скачивание

Для Windows скачиваем Git со страницы https://git-scm.com/download/win (если нужно для других ОС - https://git-scm.com/book/en/v2/Getting-Started-Installing-Git). Устанавливаем как обычную программу. На этапе выбора редактора по умолчанию можно выбрать свой любимый рекдатор.

## Запуск

Открываем терминал Windows [Win + R => cmd]. Набираем команду:
```sh
git --version
```
Ответ должен быть наподобие:
```sh
git version 2.38.1.windows.1
```
## Создание репозитория

Переходим в папку командой:
```sh
 cd path\to\project\folder
 ```
Подключаем контроль версий к папке:
```sh
git init
```
<sub><sup>В нашей папке появится скрытая папка .git</sup></sub>

## Команды

Вывести общую информацию о состоянии отслеживания данного проекта:
```sh
git status
```
<sub><sup>Показывает нашу позицию в ветке документов, число комитов (фиксаций, сохранений). Если папка пустая, он напишет, что комитов пока нет.</sup></sub>

Добавить версию файла в отслеживание гитом:
```sh
git add 'Название файла'
```
<sub><sup>Можно набрать пару начальных букв файла и нажать tab, терминал сам вставит полное название файла.</sup></sub>

<sub><sup>Если добавление прошло успешно, терминал просто выдаст строку к вводу следующей команды.</sup></sub>

Внести комментарий в свободной форме для сохраняемой версии файла:
```sh
git commit -m 'Создали новый файл'
```

Посмотреть журнал изменений:
```sh
git log
```
<sub><sup>В нём для каждой сохранённой версии будет строка commit с уникальным идентификатором, к примеру:
commit 80ee236116baf9c7fb3052073fe6e1a5446e44d1</sup></sub>

Можно вызвать более аскетичный вид лога (только первые символы идентификаторов и рядом коммиты):
```sh
git log --oneline
```
Чтобы загрузить какую-либо из сохранённых версий, вводим команду, используя первых 4-6 символов из уникального идентификатора, к примеру:
```sh
git checkout 80ee
```
Вернуться к актуальной версии:
```sh
git checkout master
```
Посмотреть изменения в файле в сравнении с последней версией:
```sh
git diff
```
Отобразить текущие характеристики гита:
```sh
git config --list
```
Очистить окно терминала, чтобы стереть всю историю команд
```sh
clear (или cls, или Ctrl + L)
```
Если терминал выводит длинный ответ, то вместо новой строки для ввода команды появляется двоеточие. Это означает, что этот контент можно скролить стрелками клавиатуры вверх/вниз. Чтобы получить командную строку, нажимаем кнопку q.

## Работа с удалёнными репозиториями

### Воспользоваться чужим репозиторием

1. Заходим на github.com в нужный репозиторий.

2. По кнопке Code копируем ссылку на репозиторий.

3. Создаём или заходим в нужную папку в локальном терминале, которая не имеет локальной git-инициализации.

4. Копируем репозиторий на локальный компьютер:
    ```sh
    git clone [Скопированная ссылка]
    ```
    В нашей папке появится папка с именем удалённого репозитория и скопированным с GitHub его содержимым.

5. В терминале переходим в эту папку через команду cd:
    ```sh
    cd [Имя папки репозитория]
    ```
	Достаточно ввести первые буквы названия папки и нажать кнопку Tab.

6. После этого можно вводить привычные git-команды. Но на удалённый репозиторий они не повлияют, т.к. мы будем работать с его копией на локальной машине.

### Создать свой репозиторий на GitHub и синхронизировать с локальной версией

1. Заходим в свой аккаунт на github.com.

2. В правом верхнем углу нажимаем на + и выбираем New repository.

3. Вводим название репозитория в поле Repository name.

4. Нажимаем Create… Появится ссылка на наш репозиторий.

5. Переходим в локальный репозиторий.
	Вводим команду, чтобы "подружить" локальный и удалённый репозитории:
	```sh
    git remote add origin [Ссылка на репозиторий]
    ```
6. Создаём основную ветку:
    ```sh
	git branch -M main
    ```
	Этой же командой переименовывается ветка master.
	
7. Отправляем локальный репозиторий в созданный на GitHub:
    ```sh
	git push -u origin main
    ```
    где main - это название ветки, которую мы создали в предыдущем шаге.
	При первой такой команде появится предложение авторизоваться, авторизуемся.
	Весь наш репозиторий окажется в репозитории на GitHub.

8. Работаем на локальной машине с нашим репозиторием.
	Чтобы отправить наши изменения на GitHub, вводим команду:
    ```sh
	git push
    ```
	
9. Если ещё кто-то имеет доступ к этому удалённому репозиторию, он может внести изменения в него. Либо мы сами можем внести изменения в него непосредственно в интерфейсе GitHub (после редактирования того или иного файла внизу страницы нужно внести соответствующий коммит и нажать кнопку Commit changes).
В этом случае git push не сработает, т.к. сначала нужно скачать новые изменения к себе на локалку. См. следующий пункт.

10. Чтобы скачать все подобные изменения на локальный компьютер с GitHub, нужно ввести команду:
    ```sh
	git pull
    ```
    При этом автоматически будет произведён merge.
	Если git pull выдал ошибку, можно ввести команду: 
    ```sh
    git pull --rebase
    ```
	Если merge не нужен, тогда вместо git pull вводим команду:
    ```sh
	git fetch [Название ветки]
    ```

### Работа над совместным проектом

1. Заходим на github.com в нужный репозиторий.

2. Справа нажимаем кнопку Fork (с англ. вилка). Дальше Create…

3. Теперь у нас на аккаунте GitHub есть копия этого репозитория, копируем его к себе на локальный компьютер:
    ```sh
	git clone [Ссылка на репозиторий]
    ```

4. Все изменения в таком проекте принято вносить в отдельной ветке. Поэтому создаём ветку и в ней вносим изменения, коммитим их.

5. Закачиваем изменения на GitHub через команду git push, но модифицированную, т.к. работа идёт не из главной ветки:
    ```sh
	git push --set-upstream origin [Название ветки]
    ```
	Git сам подскажет эту команду, если мы введём просто git push.
	Повторный пуш из этой же ветки можно будет уже делать через git push.
	
6. Переходим в наш удалённый репозиторий, по кнопке с иконкой разветвления (слева) выбираем нашу ветку и видим наши изменения.

7. Если мы хотим предложить их тому аккаунту, с которого мы взяли этот репозиторий, то ниже нажимаем Contribute и дальше Open pull request.

8. В появившемся поле пишем наш комментарий к предложению по изменению проекта. Отправляем. 
