# Справка по командам **Git**

В файле сохранены примеры наиболее используемых команд Git и языка разметки Markdown

## Первоначальная настройка Git
* Имя пользователя
```sh
git config --global user.name "Konstantin"
git config --global user.email "yarohno@gmail.com"
```
* Выбор редактора
```sh
git config --global core.editor "'C:/Program Files/Notepad++/notepad++.exe' -multiInst -notabbar -nosession -noPlugin"
```
* Проверка настроек (чтобы прекратить скрол нажмите q)
```sh
git config --list
```

## Инициализация репозитория в текущем каталоге

```sh
git init
```

Эта команда создаёт в текущем каталоге новый подкаталог с именем .git, содержащий все необходимые файлы репозитория — структуру Git репозитория. На этом этапе ваш проект ещё не находится под версионным контролем.

Для того, чтобы добавить под версионный контроль существующие файлы (в отличие от пустого каталога), вам стоит добавить их в индекс и осуществить первый коммит изменений. Добиться этого вы сможете запустив команду git add несколько раз, указав индексируемые файлы, а затем выполнив git commit:
```sh
git add *.py
git add git_howto.md
git commit -m 'Initial project version'
```
## Статус репозитория

```sh
git status
```

## Просмотр неиндексированных изменений
```sh
git diff
```
## Просмотр индексированных изменений
```sh
git log
```
По умолчанию (без аргументов) git log перечисляет коммиты, сделанные в репозитории в обратном к хронологическому порядке — последние коммиты находятся вверху. Из примера можно увидеть, что данная команда перечисляет коммиты с их SHA-1 контрольными суммами, именем и электронной почтой автора, датой создания и сообщением коммита.

Наиболее распространённые опции для команды git log

| Опция | Описание |
| ----- | -------- |
| -p | Показывает патч для каждого коммита. |
| --stat | Показывает статистику изменённых файлов для каждого коммита. |
| --shortstat | Отображает только строку с количеством изменений/вставок/удалений для команды --stat. |
| --name-only | Показывает список изменённых файлов после информации о коммите. |
| --name-status | Показывает список файлов, которые добавлены/изменены/удалены. |
| --abbrev-commit | Показывает только несколько символов SHA-1 чек-суммы вместо всех 40. |
| --relative-date | Отображает дату в относительном формате (например, «2 weeks ago») вместо стандартного формата даты. |
| --graph | Отображает ASCII граф с ветвлениями и историей слияний. |
| --pretty | Показывает коммиты в альтернативном формате. Возможные варианты опций: oneline, short, full, fuller и format (с помощью последней можно указать свой формат). |
| --oneline | Сокращение для одновременного использования опций --pretty=oneline --abbrev-commit. |

## Перемещаем по веткам
```sh
git checkout branch_name
```
Основная функция git checkout это перемещать указатель HEAD, т.е. то куда смотрит ваша локальная копия. Вы можете переместить его на вершину ветки: git checkout <branch> или на отдельный коммит: git checkout <sha> Ну а вспомогательные это создание веток:git checkout -b, отмена изменений в файле:git checkout -- <file>

```sh
git switch branch_name
```
команда git switch вводится с версии Git 2.23. Если у вас старая версия Git, вы можете использовать git checkout для выполнения аналогичных операций.

## Отображение веток
```sh
git branch
```
Без дополнительных аргументов эта команда выведет список локальных веток в вашем репозитории. Текущая активная ветка будет помечена звездочкой (*).

Наиболее распространённые опции для команды git branch

| Опция | Описание |
| ----- | -------- |
| branch_name | Создает новую ветку с указанным именем, но не переключает на нее. Вы останетесь в текущей активной ветке. |
| -d branch_name | Удаляет локальную ветку с указанным именем. Однако, если есть незакоммиченные изменения в ветке, Git может потребовать подтверждения удаления. |
| -m old_branch_name new_branch_name | Переименовывает локальную ветку. |

```sh
git branch -M main
```
Команда git branch -M main в Git используется для переименования текущей ветки. Опция -M означает "move" и указывает Git на то, что ветку нужно переместить или переименовать.

В данном случае, команда git branch -M main переименовывает текущую ветку в "main". Это часто используется в контексте перехода от стандартного имени ветки "master" к более нейтральному и инклюзивному имени "main". Такое изменение имени ветки может быть полезным, если вы хотите следовать современным практикам разработки и избегать терминологии, которая может восприниматься как нейтральная.

## Слияние веток
```sh
git merge <название-ветки>
```
Используется для объединения изменений из одной ветки в другую. Она позволяет объединить изменения, сделанные в одной ветке (обычно ветке функциональности) с изменениями в другой ветке (обычно ветке master или другой основной ветке).

## Управление удалёнными репозиториями
```sh
git remote
```
Команда `git remote` в Git используется для управления удаленными репозиториями и настройки связей между локальным и удаленными репозиториями. Основные сценарии использования команды `git remote`:

- Просмотр текущих удаленных репозиториев:

`git remote -v`

Эта команда выведет список имен и ссылок на удаленные репозитории, настроенные для проекта.

- Добавление удаленного репозитория:

`git remote add <имя> <ссылка>` 

Эта команда добавит новый удаленный репозиторий с указанным именем и ссылкой.

- Удаление удаленного репозитория:

`git remote remove <имя>`

Удаляет удаленный репозиторий из списка отслеживаемых репозиториев.

- Переименование удаленного репозитория:

`git remote rename <старое-имя> <новое-имя>`

Изменяет имя существующего удаленного репозитория.

- Вывод информации о удаленном репозитории с именем "origin", к которому ваш локальный репозиторий Git подключен

`git remote show origin`

Вот что означают основные разделы вывода этой команды:

**Remote branches**
Этот раздел показывает удаленные ветки (remote branches), которые есть в удаленном репозитории (в "origin"). Вы увидите список веток и информацию о том, насколько они отстают от ваших локальных веток.

**Remote HEAD**
Показывает, какая ветка установлена в качестве HEAD в удаленном репозитории. HEAD - это указатель на последний коммит в текущей ветке.

**Local ref configured for 'git pull'**
Этот раздел указывает, какая локальная ветка используется при выполнении команды git pull. Это может быть полезной информацией, если у вас есть настроенные отслеживаемые ветки.

**Local ref configured for 'git push'**
Показывает локальную ветку, которая используется при выполнении команды git push. Это та ветка, которая будет отправляться в удаленный репозиторий.

**Local branches configured for 'git pull'**
Показывает, какие локальные ветки настроены для отслеживания удаленных веток при выполнении команды git pull.

**Local branches configured for 'git push'**
Показывает, какие локальные ветки настроены для отправки изменений в соответствующие удаленные ветки при выполнении команды git push.

**Remote URL**
Указывает URL удаленного репозитория ("origin").

**Push URL**
Если используется отдельный URL для отправки изменений, этот раздел покажет этот URL.
Эта команда полезна для быстрого просмотра настроек удаленного репозитория, с которым вы взаимодействуете, и удостоверениясь, что все настройки соответствуют вашим ожиданиям.

## Создание локальной копии существующего удаленного репозитория Git
```sh
git clone https://github.com/user/repo.git # Клонирование по HTTPs
git clone git@github.com:user/repo.git # Клонирование по SSH
```
При выполнении git clone происходят следующие действия:

- Создается новая папка с именем репозитория, в которую клонируется код
- Инициализируется Git репозиторий в этой папке
- Добавляется удаленный репозиторий с именем origin и указанным при клонировании URL
- Скачивается весь код и вся история коммитов из удаленного репозитория
- Устанавливается связь между локальным и удаленным репозиторием для дальнейшей синхронизации

После выполнения git clone в локальной папке создается полная копия удаленного репозитория для работы. Команда позволяет быстро начать работу с существующим проектом.

## Получение последних изменений из удаленного репозитория
```sh
git pull
```
Команда выполняет две основные операции:

- Скачивает последние данные с удаленного репозитория, к которому подключен локальный (команда git fetch)
- Применяет эти изменения к локальной версии ветки, на которой находится пользователь в данный момент (команда git merge)

То есть git pull = git fetch + git merge.

Команду git pull полезно использовать для того, чтобы:

- Получить последние изменения с удаленного репозитория перед началом работы над задачей, чтобы иметь актуальный код
- Забрать изменения, которые другие разработчики загрузили на удаленный репозиторий во время того, как вы работали локально
- Избежать конфликтов, регулярно синхронизируя основную ветку разработки с удаленным репозиторием

Таким образом, git pull - важная команда для синхронизации локальной и удаленной версий репозитория в Git.

## Отправка коммитов из локального репозитория в удаленный репозиторий
```sh
git pull
```
Основные случаи использования команды git push:

- Отправка новых локальных коммитов в удаленный репозиторий после завершения каких-то изменений: `git push origin master`

- Отправка коммитов из определенной ветки в удаленную ветку с таким же названием:
`git push origin new-feature`

- Отправка тегов в удаленный репозиторий:
`git push origin v1.0`

Основные опции для git push:

`--force` - перезаписать историю в удаленной ветке все новыми коммитами

`--tags` - отправить новые теги вместе с коммитами

Таким образом, git push позволяет разработчикам публиковать локальные изменения в общий удаленный репозиторий для доступа к ним других участников команды. После push коммиты становятся доступны всем остальным.