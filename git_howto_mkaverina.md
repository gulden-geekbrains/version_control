# Подсказка по GIT с основными командами

Создание репозитория
``` sh
git init 
```

Переносит изменения из рабочего каталога в раздел проиндексированных файлов.
```sh
git add
```

Берёт все данные, добавленные в индекс с помощью git add, и сохраняет их слепок во внутренней базе данных, а затем сдвигает указатель текущей ветки на этот слепок.
```sh
git commit -m "Message text"
```

Показывает историю сохранений коммитов
```sh
git log
```

Показывает хеш в укороченном формате, ветку, в которой сделан коммит, а также текст коммита
```sh
git log --oneline
```

Позволяет перемещаться между ветками
```sh
git checkout <имя_ветки>
```

Отображение всех веток
```sh
git branch
```

Создание новой ветки
```sh
git branch <имя_ветки>
```

Просмотр списка изменений, внесённых в репозиторий. По умолчанию отображаются только изменения, не подготовленные для фиксации.  
```sh
git diff
```

Удаление ветки
```sh
git branch -d <имя_ветки>
```

Слияние двух веток. Команда объединит указанную ветку с основной. Необходимо находиться в основной ветке при слиянии.
```sh
git merge <имя_ветки>
```

Просмотр истории коммитов с графиком, отражающим структуру ветвления истории коммитов.
```sh
git log --oneline --graph
```

## Заключение

Git сегодня - это очень популярная система контроля версий. Поэтому шпаргалка по Git, состоящая из основных команд - это то, что может вам пригодиться.

Git — система контроля версий (файлов). Что-то вроде возможности сохраняться в компьютерных играх (в Git эквивалент игрового сохранения — коммит). Ключ к пониманию концепции git — знание о «трех деревьях»:

1. Рабочая директория — файловая система проекта (те файлы, с которыми вы работаете).

2. Индекс — список отслеживаемых git-ом файлов и директорий, промежуточное хранилище изменений (редактирование, удаление отслеживаемых файлов).

3. Директория .git/ — все данные контроля версий этого проекта (вся история разработки).

# Работа с удаленными репозиториями

Создадим новый репозиторий на GitHub. Для этого на сайте GitHub кликните на значок плюса справа сверху. В появившейся форме Repository name вводим название репозитория. 
Public – кто угодно может просматривать репозиторий, но коммитить смогут только те аккаунты, которым вы предоставите доступ.
Private – никто, кроме вас, не сможет коммитить или просматривать данный репозиторий без права доступа.
Нажимаем на кнопку Create repository. Нас перекинет на страницу нашего нового репозитория. Сейчас в созданном github repo нет никаких файлов. Чтобы их выгрузить из локального репозитория, нужно подключиться к удаленному. 

## Настройка подключения к удаленному репозиторию

Чтобы добавить удаленный репозиторий и присвоить ему название, которое используется для удобства как сокращение адреса, просто выполните команду

```sh
git remote add origin <URL>
```
По умолчанию удаленный репозиторий называется origin, но можно присваивать любое название.

## Основы работы с удаленным репозиторием Git

Для того чтобы просмотреть список названий удаленных репозиториев, которые были добавлены, используйте команду:

```sh
git remote
```
Указав ключ -v, можно просмотреть, какие адреса в добавленных удаленных репозиториях используются для чтения и записи.

Полный список удаленных ссылок можно получить с помощью команды:

```sh
git ls-remote <remote>
```
Либо для получения удаленных веток и дополнительной информации используйте команду:

```sh
git remote show <remote>
```
<remote> — название удаленного репозитория, которое ему дали после подключения. Можно использовать и url интересующего удаленного репозитория.

## Изменение удаленного репозитория

Чтобы отправить изменения (имя ветки) <branch-name> на сервер <remote-name>, задействуйте команду:

```sh
git push <remote-name> <branch-name>
```
Если ветка, которую вы хотите отправить, не отслеживается, то добавьте флаг —set-upstream. На примере ветки develop это будет выглядеть вот так:

```sh
git push --set-upstream origin develop
```
В GitHub же есть кнопка (Add file) для загрузки или создания файлов прямо в удаленном репозитории.

Возможно переименование удаленного репозитория с прежнего имени <old-name> на новое <new-name>.

```sh
git remote rename <old-name> <new-name>
```
## Получение изменений из удаленного репозитория

Для связи с указанным удаленным репозиторием используется следующая команда, которая подтянет новые изменения на локальный репозиторий:

```sh
git fetch [remote-name]
```
После выполнения команды появляются ссылки на все ветки из указанного удаленного репозитория. Данная команда забирает данные в наш локальный репозиторий, но не объединяет или перебазирует их с коммитами в локальном репозитории, связанного с удаленным. Поэтому используйте merge или rebase, когда закончите работать над изменениями.

Если ветка настроена на отслеживание удаленной ветки, то можно использовать более удобную команду:

```sh
git pull
```
Данная команда заменяет прописывание двух команд: git fetch; git merge.

Клонирование репозитория копирует все файлы и коммиты удаленного репозитория, после чего уже можно использовать предыдущую команду — git fetch, если понадобятся новые изменения из удаленного репозитория.

```sh
git clone [url]
```
### Клонирование может быть по HTTPS, либо по SSH. Рассмотрим каждый вариант.

Для клонирования по HTTPS понадобятся имя пользователя и пароль аккаунта GitHub. В качестве пароля используется персональный токен доступа. Сгенерировать персональный токен доступа можно в настройках профиля GitHub (Settings > Developer Settings > Personal access tokens). Команда будет иметь вид:

```sh
git clone https://github.com/ИМЯПОЛЬЗОВАТЕЛЯ/РЕПОЗИТОРИЙ.git
```

Клонирование по SSH
Доступ к гиту предоставляется по защищенному протоколу.
Необходимо сгенерировать пару SSH-ключей и добавить публичный ключ в аккаунт GitHub.
Команда будет иметь вид:
```sh
git clone git@github.com:ИМЯПОЛЬЗОВАТЕЛЯ/РЕПОЗИТОРИЙ.git
```
В GitHub есть зеленая кнопка (Code), кликнув на которую можно будет скопировать url-адрес для выбранного способа клонирования или скачать архивом данный репозиторий.

Для клонирования определенной ветки репозитория, допишите флаг —single-branch:
```sh
git clone --single-branch [url]
```
Работа git clone пошагово выглядит так:
Создается новая директория.
В ней создается репозиторий посредством выполнения git init.
Выполняется команда git remote add origin, которая добавляет по URL (назван origin) удаленный репозиторий.
Подхватываются новые изменения данного удаленного репозитория через git fetch.
С помощью git checkout извлекается последний коммит в рабочую директорию.

Чтобы удалить сам удаленный репозиторий, это нужно сделать на сервере, на котором он размещен. На GitHub перейдите в раздел настроек (“Settings”), проскрольте до самого низа, где будет поле Danger Zone. Нажмите на Delete this repository, в открывшемся новом поле введите *Имя пользователя*/*Названия репозитория* для подтверждения удаления. 

## Описание команды pull request
Делаем fork репозитория, в которой потом хотим сделать pull request. Ищем для этого кнопку Fork на странице репозитория. Потом выполняем команду клонирования из своей fork-копии.
Создаем новую ветку и вносим необходимые изменения в файл

```sh
git checkout -b <имя ветки>
vim README.md
git add README.md
git commit -m "Добавили инструкцию как создать pull request"
```
Делаем push

```sh
git push --set-upstream origin <имя ветки>
```

Переходим на свою страницу репозитория. Выбираем свою ветку и жмем кнопку Compare & pull request.

# Заключение инструкции

Мы создали удаленный репозиторий, узнали про подключение удаленного репозитория разными способами, рассмотрели команды clone, fetch, push, pull для взаимодействия с ним.