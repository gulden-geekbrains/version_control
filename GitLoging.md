# Логирование

## Просмотр истории коммитов с изменениями

>```git log``` -p

### [Варианты ограничения вывода git log](#git_log_limitations)

Например, если вы хотите увидеть, какие коммиты, изменяющие тестовые файлы в истории исходного кода Git, были зафиксированы Джунио Хамано в октябре 2008 года и не являются коммитами слияния, вы можете запустить что-то вроде этого:

>```git log``` --pretty="%h - %s" --author='Vladimir Kiselev' --since="2023-12-05" \    --before="2023-12-07" --no-merges -- t/

| Вариант |	Описание |
|:------------- |---------------:|
| -<n> | Показывать только последние n коммитов. |
| --since,--after | Ограничьте коммиты теми, которые были сделаны после указанной даты. |
| --until,--before | Ограничьте коммиты, сделанные до указанной даты. |
| --author | Показывать только те коммиты, в которых запись автора соответствует указанной строке. |
| --committer | Показывать только те коммиты, в которых запись коммиттера соответствует указанной строке. |
| --grep | Показывать коммиты только с сообщением о коммите, содержащим эту строку. |
| -S | Показывать только коммиты, добавляющие или удаляющие код, соответствующий строке. |

#### [Распространенные варианты git log](#git_log)

| Вариант |	Описание |
|:------------- |---------------:|
| --stat | Показать статистику для файлов, измененных в каждом коммите. |
| --shortstat | Отображать только строку измененных/вставок/удалений из --statкоманды. |
| --name-only | Показать список файлов, измененных после информации о фиксации. |
| --name-status | Также показать список файлов, на которые была добавлена/изменена/удалена информация. |
| --abbrev-commit | Показывать только первые несколько символов контрольной суммы SHA-1 вместо всех 40. |
| --relative-date | Отображайте дату в относительном формате (например, «2 недели назад») вместо использования полного формата даты. |
| --graph | Отобразите ASCII-график ветки и историю слияний рядом с выводом журнала. |
| --pretty | Показать коммиты в альтернативном формате. Значения параметров включают oneline, short, full, fullerи format(где вы указываете свой собственный формат). |
| --oneline | Сокращение для --pretty=oneline --abbrev-commitсовместного использования. |

Однако такие параметры ограничения времени, как --sinceи, --untilочень полезны. Например, эта команда получает список коммитов, сделанных за последние две недели:

>```git log``` --since=2.weeks

### --pretty

Опция --pretty изменяет формат вывода журнала, отличный от формата по умолчанию. Доступны значения oneline (печатает каждый коммит в одной строке),  short, fullи fuller. Наиболее интересное значение опции — format, которое позволяет указать собственный формат вывода журнала.  

>```git log``` --pretty=format:"%h - %an, %ar : %s"

#### [Полезные спецификаторы для git log --pretty=format](#pretty_format)

| Спецификатор |	Описание вывода |
|:------------- |---------------:|
| %H | Зафиксировать хеш |
| %h | Сокращенный хеш коммита |
| %T | Хэш дерева |
| %t | Сокращенный хеш дерева |
| %P | Родительские хеши |
| %p | Сокращенные родительские хеши |
| %an | Имя автора | 
| %ae | Адрес электронной почты автора |
| %ad | Дата автора |
| %ar | Дата автора, относительная |
| %cn | Имя коммиттера |
| %ce | Электронная почта коммиттера |
| %cd | Дата коммиттера |
| %cr | Дата коммиттера, относительная |
| %s | Предмет |

## Отображение журнала фиксации в виде графика для текущей или всех веток

Просмотреть историю коммитов в виде графика для текущей ветки можно с помощью параметра log и флагов __--graph__ __--oneline__ __--decorate__. 

Опция --graph выведет график в формате ASCII, отражающий структуру ветвления истории коммитов. В связке с флагами --oneline и --decorate, этот флаг упрощает понимание того, к какой ветке относится каждый коммит.

>```git log --graph --oneline --decorate```

Для просмотра истории коммитов по всем веткам используется флаг __--all__.

>```git log --all --graph --oneline --decorate```

## Кирка

Принимает строку и показывает только те коммиты, которые изменили количество вхождений этой строки. 

Например, если вы хотите найти последний коммит, в котором была добавлена ​​или удалена ссылка на определенную функцию, вы можете вызвать:

>```git log``` -S function_name

## Путь

Последний действительно полезный параметр, который можно использовать git log в качестве фильтра, — это путь. Если вы укажете имя каталога или файла, вы можете ограничить вывод журнала фиксациями, которые внесли изменения в эти файлы. Это всегда последний параметр, которому обычно предшествует двойное тире ( --), чтобы отделить пути от параметров:

>```git log``` -- path/to/file